apiVersion: v1
kind: ConfigMap
metadata:
  name: kibana-saved-objects
  labels:
    app: kibana
    role: saved-objects
data:
  card-logs.ndjson: |
    {"type":"index-pattern","id":"logs-card-production","attributes":{"title":"logs-card-production*","timeFieldName":"@timestamp"}}
    {"type":"search","id":"card-logs-with-traces","attributes":{"title":"Card Logs with Traces","description":"Log events enriched with trace and span identifiers for rapid correlation.","hits":0,"columns":["@timestamp","message","log.level","service.name","trace_id","span_id"],"sort":[["@timestamp","desc"]],"grid":{"columns":{}},"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"trace_id : *\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"}},"references":[{"type":"index-pattern","name":"kibanaSavedObjectMeta.searchSourceJSON.index","id":"logs-card-production"}]}
    {"type":"lens","id":"card-log-overview","attributes":{"title":"Card Log Overview","description":"Lens visualization to monitor log volume and levels over time.","visualizationType":"lnsXY","state":{"query":{"language":"kuery","query":""},"filters":[],"datasourceStates":{"indexpattern":{"layers":{"layer1":{"columns":{"col1":{"label":"@timestamp","dataType":"date","operationType":"date_histogram","sourceField":"@timestamp","isBucketed":true,"params":{"interval":"auto","includeEmptyRows":false,"dropPartials":false}},"col2":{"label":"Log entries","dataType":"number","operationType":"count","sourceField":"Records","isBucketed":false,"params":{"emptyAsNull":true}},"col3":{"label":"log.level","dataType":"string","operationType":"terms","sourceField":"log.level","isBucketed":true,"params":{"size":5,"orderBy":{"type":"alphabetical"},"orderDirection":"asc","missingBucket":false,"otherBucket":false,"includeEmptyRows":false}}},"columnOrder":["col1","col3","col2"],"incompleteColumns":{}}}}},"visualization":{"legend":{"isVisible":true,"position":"right"},"preferredSeriesType":"area","layers":[{"layerId":"layer1","accessors":["col2"],"position":"top","seriesType":"area","showGridlines":false,"xAccessor":"col1","splitAccessor":"col3","yConfig":[{"forAccessor":"col2","axisMode":"left","color":""}],"layerType":"data"}]}}},"references":[{"type":"index-pattern","id":"logs-card-production","name":"indexpattern-datasource-layer-layer1"}],"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[],\"indexRefName\":\"indexpattern-datasource-layer-layer1\"}"},"uiStateJSON":"{}"}}